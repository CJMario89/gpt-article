generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model CityArticle {
  id                   Int            @id @default(autoincrement())
  country              String         @default("")
  city                 String         @unique
  status               Int            @default(0)
  title                String         @default("")
  description          String         @default("")
  region               String         @default("")
  content              String         @default("")
  image                Bytes?
  preview_image        Bytes?
  image_reference_link String?        @default("")
  image_reference_name String?        @default("")
  createdAt            DateTime       @default(now())
  updatedAt            DateTime       @updatedAt
  SpotArticle          SpotArticle[]
  CityCategory         CityCategory[]
  SpotCategory         SpotCategory[]

  @@index([city])
}

model SpotArticle {
  id                   Int            @id @default(autoincrement())
  country              String
  city                 String
  city_article         CityArticle    @relation(fields: [city], references: [city])
  spot                 String         @unique
  status               Int            @default(0)
  title                String         @default("")
  description          String         @default("")
  content              String         @default("")
  image                Bytes?
  preview_image        Bytes?
  image_reference_link String?        @default("")
  image_reference_name String?        @default("")
  createdAt            DateTime       @default(now())
  updatedAt            DateTime       @updatedAt
  SpotCategory         SpotCategory[]

  @@index([spot])
}

model CityCategory {
  id           Int         @id @default(autoincrement())
  city         String      @default("")
  city_article CityArticle @relation(fields: [city], references: [city])
  category     String      @default("")
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt

  @@index([category])
}

model SpotCategory {
  id           Int         @id @default(autoincrement())
  city         String      @default("")
  city_article CityArticle @relation(fields: [city], references: [city])
  spot         String      @default("")
  spot_article SpotArticle @relation(fields: [spot], references: [spot])
  category     String      @default("")
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt

  @@index([category])
}
